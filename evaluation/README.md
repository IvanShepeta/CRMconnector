# Agent Evaluation System

ะัะพััะฐ ัะธััะตะผะฐ ะดะปั ัะตัััะฒะฐะฝะฝั ัะฐ ะฟะพะบัะฐัะตะฝะฝั ะฒะฐัะพะณะพ CRM ะฐะณะตะฝัะฐ.

## ๐ ะจะฒะธะดะบะธะน ััะฐัั

```bash
# 1. ะะฐะฟัััะธัะธ ัะตัั (10 ะทะฐะฟะธััะฒ, ~30 ัะตะบ)
python evaluation/quick_test.py

# 2. ะัะพะฐะฝะฐะปัะทัะฒะฐัะธ ัะตะทัะปััะฐัะธ
python evaluation/simple_analyze.py

# 3. ะะธะฟัะฐะฒะธัะธ ะขะะ-3 ะฟัะพะฑะปะตะผะธ
# 4. ะะพะฒัะพัะธัะธ ัะตัั
```

**ะฆะต ะฒัะต ัะพ ะฟะพัััะฑะฝะพ!** โ

---

## ๐ ะกัััะบัััะฐ

```
evaluation/
โโโ quick_test.py          # ะจะฒะธะดะบะธะน ัะตัั (10 ะทะฐะฟะธััะฒ)
โโโ simple_analyze.py      # ะัะพััะธะน ะฐะฝะฐะปัะท ะท ัะตะบะพะผะตะฝะดะฐัััะผะธ
โโโ common.py              # ะกะฟัะปัะฝั ััะธะปััะธ
โโโ data/                  # ะะตะทัะปััะฐัะธ ัะตัััะฒ
โโโ reports/               # ะะฒััะธ
โโโ README.md              # ะฆั ัะฝััััะบััั
```

---

## ๐ ะฉะพ ัะตัััััััั?

### 10 ะบะปััะพะฒะธั ะทะฐะฟะธััะฒ:
1. **ะะพััะบ ะบััััะฒ Python** - "ะัะธะฒัั, ัะธ ั ะทะฐัะฐะท ะบัััะธ ะฟะพ Python?"
2. **ะัััะธ ะดะปั ะฟะพัะฐัะบัะฒััะฒ** - "ะฏะบั ะบัััะธ ะดะพัััะฟะฝั ะดะปั ะฟะพัะฐัะบัะฒััะฒ?"
3. **ะฆัะฝะฐ JavaScript** - "ะกะบัะปัะบะธ ะบะพัััั ะบััั JavaScript?"
4. **ะะฝะธะถะบะธ** - "ะงะธ ั ะทะฝะธะถะบะธ ะฝะฐ ะบัััะธ?"
5. **ะะฐัะธ ะฝะฐะฑะพัั** - "ะะพะปะธ ะฟะพัะธะฝะฐััััั ะฝะฐัััะฟะฝะธะน ะฝะฐะฑัั?"
6. **ะขัะธะฒะฐะปัััั ะบัััั** - "ะกะบัะปัะบะธ ััะธะฒะฐั ะบััั Python?"
7. **ะะฐะฟะธั ะฝะฐ React** - "ะฅะพัั ะทะฐะฟะธัะฐัะธัั ะฝะฐ ะบััั React"
8. **ะัะพะณัะฐะผะฐ ะบัััั** - "ะฏะบั ัะตะผะธ ะพัะพะฟะปัั ะบััั Python?"
9. **ะะตัะตะดัะผะพะฒะธ** - "ะงะธ ะฟะพัััะฑะฝั ะฟะพะฟะตัะตะดะฝั ะทะฝะฐะฝะฝั?"
10. **ะะพะดัะบะฐ** - "ะัะบัั ะทะฐ ัะฝัะพัะผะฐััั"

**ะะฐัะตะณะพััั:** ะฟะพััะบ ะบััััะฒ, ััะฝะพััะฒะพัะตะฝะฝั, ัะพะทะบะปะฐะด, ัะตััััะฐััั, ะดะตัะฐะปั ะบััััะฒ, ัะพะทะผะพะฒะฐ

---

## ๐ ะะตัะฐะปัะฝััะต ะฟัะพ ัะบัะธะฟัะธ

### `quick_test.py` - ะจะฒะธะดะบะธะน ัะตัั

**ะฉะพ ัะพะฑะธัั:**
- ะะฐะฟััะบะฐั 10 ะฝะฐะนะฒะฐะถะปะธะฒััะธั ะทะฐะฟะธััะฒ
- ะะพะบะฐะทัั ะฒัะดะฟะพะฒัะดั ะฐะณะตะฝัะฐ ะฒ ัะตะฐะปัะฝะพะผั ัะฐัั
- ะัะดััะตะถัั ัะบั ัะฝััััะผะตะฝัะธ ะฒะธะบะพัะธััะพะฒัััััั
- ะะธะผัััั ัะฐั ะฒะธะบะพะฝะฐะฝะฝั
- ะะฑะตััะณะฐั ัะตะทัะปััะฐัะธ ะฒ JSON

**ะะพะปะธ ะฒะธะบะพัะธััะพะฒัะฒะฐัะธ:**
- ะััะปั ะบะพะถะฝะพั ะทะผัะฝะธ ะฒ ะฐะณะตะฝัั
- ะะตัะตะด commit ะฒ Git
- ะฉะพะดะตะฝะฝะฐ ะฟะตัะตะฒััะบะฐ

**ะัะธะบะปะฐะด ะฒะธะฒะพะดั:**
```
[1/10] Category: course_search
Query: ะัะธะฒัั, ัะธ ั ะทะฐัะฐะท ะบัััะธ ะฟะพ Python?
======================================================================
[ะัะดะฟะพะฒัะดั ะฐะณะตะฝัะฐ...]

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
Tools used: ['search_courses']
Expected: ['search_courses', 'get_available_courses']
Time: 2.34s
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### `simple_analyze.py` - ะะฝะฐะปัะท ัะตะทัะปััะฐััะฒ

**ะฉะพ ัะพะฑะธัั:**
- ะะฒัะพะผะฐัะธัะฝะพ ะทะฝะฐัะพะดะธัั ะพััะฐะฝะฝั ัะตะทัะปััะฐัะธ ัะตัััะฒ
- ะะพะบะฐะทัั ะฑะฐะทะพะฒั ััะฐัะธััะธะบั
- ะะธัะฒะปัั ะฟัะพะฑะปะตะผะธ (ะฟะพะผะธะปะบะธ, ะบะพัะพัะบั ะฒัะดะฟะพะฒัะดั, ะฟะพะฒัะปัะฝั ะทะฐะฟะธัะธ)
- ะะฐะดะฐั ะขะะ-3 ัะตะบะพะผะตะฝะดะฐััั ะท ะฟัะธะบะปะฐะดะฐะผะธ ะบะพะดั
- ะะพะถะต ะทะฑะตัะตะณัะธ ะทะฒัั

**ะะพะปะธ ะฒะธะบะพัะธััะพะฒัะฒะฐัะธ:**
- ะััะปั ะบะพะถะฝะพะณะพ ัะตััั
- ะะปั ัะพะทัะผัะฝะฝั ัะพ ะฟะพัััะฑะฝะพ ะฟะพะบัะฐัะธัะธ
- ะฉะพัะธะถะฝะตะฒะฐ ะฟะตัะตะฒััะบะฐ ะฟัะพะณัะตัั

**ะัะธะบะปะฐะด ะฒะธะฒะพะดั:**
```
======================================================================
AGENT ANALYSIS
======================================================================

Total queries: 10
Tool usage: 7/10 (70%)
Avg response time: 3.45s
Avg response length: 156 chars

Issues found:
  Errors: 0
  Short responses: 1
  Slow queries (>5s): 1

======================================================================
TOP RECOMMENDATIONS
======================================================================

๐ก #1 [MEDIUM] 1 responses too short

Fix:
Add to AGENT_INSTRUCTIONS:
  'Always provide detailed answers: minimum 2-3 sentences'

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะฟััั:**
```bash
# ะะธะบะพัะธััะฐัะธ ะบะพะฝะบัะตัะฝะธะน ัะฐะนะป
python evaluation/simple_analyze.py --dataset path/to/results.json

# ะะฑะตัะตะณัะธ ะทะฒัั
python evaluation/simple_analyze.py --save
```

---

## ๐๏ธ ะขะธะฟะพะฒั ะฟัะพะฑะปะตะผะธ ัะฐ ัััะตะฝะฝั

### ะัะพะฑะปะตะผะฐ: ะะธะทัะบะต ะฒะธะบะพัะธััะฐะฝะฝั ัะฝััััะผะตะฝััะฒ

**ะะทะฝะฐะบะธ:**
- Tool usage < 50%
- ะะณะตะฝั ะฒัะดะฟะพะฒัะดะฐั ะฑะตะท ะฒะธะบะปะธะบั ัะฝััััะผะตะฝััะฒ

**ะััะตะฝะฝั:**
```bash
# ะฃ ัะฐะนะปั .env ะพะฝะพะฒััั AGENT_INSTRUCTIONS:
AGENT_INSTRUCTIONS="ะขะธ - ะฐัะธััะตะฝั CRM ัะธััะตะผะธ ะบััััะฒ.
ะะะฏ ะะะะะะะะะ ะะ ะะะะะขะ ะะะ ะะฃะะกะ ะะะะะะ ะฒะธะบะพัะธััะพะฒัะน ัะฝััััะผะตะฝัะธ:
- list_courses: ะดะปั ะฟะพะบะฐะทั ะฒััั ะบััััะฒ
- search_courses: ะดะปั ะฟะพััะบั ะบะพะฝะบัะตัะฝะพะณะพ ะบัััั
- get_course_details: ะดะปั ะดะตัะฐะปะตะน ะบัััั

ะัะธะบะปะฐะด: ะฏะบัะพ ะฟะธัะฐััั 'ะฏะบั ะบัััะธ ั?', ะฒะธะบะพัะธััะฐะน list_courses."
```

---

### ะัะพะฑะปะตะผะฐ: ะะพัะพัะบั ะฒัะดะฟะพะฒัะดั

**ะะทะฝะฐะบะธ:**
- Short responses > 2
- Avg response length < 100

**ะััะตะฝะฝั:**
```bash
# ะะพะดะฐะนัะต ะดะพ AGENT_INSTRUCTIONS:
"ะะฐะฒะถะดะธ ะฝะฐะดะฐะฒะฐะน ะดะตัะฐะปัะฝั ะฒัะดะฟะพะฒัะดั:
- ะัะฝัะผัะผ 2-3 ัะตัะตะฝะฝั
- ะะพะฝะบัะตัะฝั ะดะฐะฝั (ััะฝะธ, ะดะฐัะธ, ัะฟะธัะบะธ)
- ะะพะดะฐัะบะพะฒะฐ ะบะพัะธัะฝะฐ ัะฝัะพัะผะฐััั
- ะะธัะฐะฝะฝั ะดะปั ััะพัะฝะตะฝะฝั ัะบัะพ ะฟะพัััะฑะฝะพ"
```

---

### ะัะพะฑะปะตะผะฐ: ะะพะผะธะปะบะธ ะฒะธะบะพะฝะฐะฝะฝั

**ะะทะฝะฐะบะธ:**
- Errors > 0
- "ERROR" ั ะฒัะดะฟะพะฒัะดัั

**ะััะตะฝะฝั:**
```bash
# 1. ะะตัะตะฒัััะต ัะธ ะฟัะฐััั MCP ัะตัะฒะตั
curl http://localhost:3001/mcp

# 2. ะะตัะตะทะฐะฟัััััั ัะตัะฒะตั ัะบัะพ ะฟะพัััะฑะฝะพ

# 3. ะะพะดะฐะนัะต ะพะฑัะพะฑะบั ะฟะพะผะธะปะพะบ ะดะพ ัะฝััััะบััะน:
"ะฏะบัะพ ัะฝััััะผะตะฝั ะฝะตะดะพัััะฟะฝะธะน:
- ะะธะฑะฐััั ะฟะตัะตะด ะบะพัะธัััะฒะฐัะตะผ
- ะะฐะฟัะพะฟะพะฝัะน ะฐะปััะตัะฝะฐัะธะฒั
- ะะพะฟัะพัะธ ะทะฒ'ัะทะฐัะธัั ะฟัะทะฝััะต"
```

---

### ะัะพะฑะปะตะผะฐ: ะะพะฒัะปัะฝั ะฒัะดะฟะพะฒัะดั

**ะะทะฝะฐะบะธ:**
- Avg time > 4s
- Slow queries > 2

**ะััะตะฝะฝั:**
```python
# ะฃ ัะฐะนะปั AgentCode.py ะทะผะตะฝัััั:
max_completion_tokens=2048  # ะทะฐะผัััั 4096
```

---

## ๐ Workflow ะฟะพะบัะฐัะตะฝะฝั

### ะฉะพะดะตะฝะฝะธะน ัะธะบะป:
```bash
# 1. ะะฝะตััะธ ะทะผัะฝะธ ะฒ ะฐะณะตะฝัะฐ
# 2. ะัะพัะตัััะฒะฐัะธ
python evaluation/quick_test.py

# 3. ะฏะบัะพ ะฒัะต ะะ - commit
git add .
git commit -m "Improved agent instructions"
```

### ะฉะพัะธะถะฝะตะฒะธะน ัะธะบะป:
```bash
# 1. ะะฐะฟัััะธัะธ ะฟะพะฒะฝะธะน ัะตัั
python evaluation/quick_test.py

# 2. ะัะพะฐะฝะฐะปัะทัะฒะฐัะธ
python evaluation/simple_analyze.py --save

# 3. ะะธะฟัะฐะฒะธัะธ ะขะะ-3 ะฟัะพะฑะปะตะผะธ
# 4. ะะพะฒัะพัะธัะธ ัะตัั
# 5. ะะพััะฒะฝััะธ ะทะฒััะธ
ls -lt evaluation/reports/
```

---

## ๐ ะะฝัะตัะฟัะตัะฐััั ะผะตััะธะบ

### Tool usage rate
- **90-100%** โ ะัะดะผัะฝะฝะพ - ะฐะณะตะฝั ะฟัะฐะฒะธะปัะฝะพ ะฒะธะบะพัะธััะพะฒัั ัะฝััััะผะตะฝัะธ
- **70-89%** ๐ก ะะพะฑัะต - ั ะฟัะพัััั ะดะปั ะฟะพะบัะฐัะตะฝะฝั
- **50-69%** ๐ ะะพััะตะฑัั ัะฒะฐะณะธ - ะฑะฐะณะฐัะพ ะทะฐะฟะธััะฒ ะฑะตะท ัะฝััััะผะตะฝััะฒ
- **<50%** ๐ด ะัะธัะธัะฝะพ - ะฐะณะตะฝั ะฝะต ะฒะธะบะพัะธััะพะฒัั ัะฝััััะผะตะฝัะธ

### Avg response time
- **<3s** โ ะจะฒะธะดะบะพ
- **3-5s** ๐ก ะะพัะผะฐะปัะฝะพ
- **5-7s** ๐ ะะพะฒัะปัะฝะพ
- **>7s** ๐ด ะัะถะต ะฟะพะฒัะปัะฝะพ

### Response length
- **>150 chars** โ ะะตัะฐะปัะฝั ะฒัะดะฟะพะฒัะดั
- **100-150 chars** ๐ก ะะพััะฐัะฝัะพ
- **50-100 chars** ๐ ะะพัะพัะบะพ
- **<50 chars** ๐ด ะะฐะฝะฐะดัะพ ะบะพัะพัะบะพ

---

## ๐ฏ ะฆัะปั ะดะปั ัะบััะฝะพะณะพ ะฐะณะตะฝัะฐ

- โ Tool usage: **>80%**
- โ Avg response time: **<4s**
- โ Avg response length: **>120 chars**
- โ Errors: **0**
- โ Short responses: **<2**
- โ Slow queries: **<2**

---

## ๐ง ะะฐะปะฐัััะฒะฐะฝะฝั

### ะะตัะตะดัะผะพะฒะธ

1. **MCP ัะตัะฒะตั ะทะฐะฟััะตะฝะธะน:**
   ```bash
   # ะะตัะตะฒััะบะฐ
   curl http://localhost:3001/mcp
   ```

2. **Environment variables ะฒััะฐะฝะพะฒะปะตะฝั:**
   ```bash
   ENDPOINT=your_azure_endpoint
   MODEL_DEPLOYMENT_NAME=your_model
   AGENT_INSTRUCTIONS=your_instructions
   ```

3. **Azure credentials ะฝะฐะปะฐััะพะฒะฐะฝั:**
   ```bash
   az login
   az account show
   ```

---

## ๐ ะะพัะธัะฝั ะบะพะผะฐะฝะดะธ

```bash
# ะะฐะฟัััะธัะธ ัะตัั
python evaluation/quick_test.py

# ะะฝะฐะปัะท ะพััะฐะฝะฝัั ัะตะทัะปััะฐััะฒ
python evaluation/simple_analyze.py

# ะะฝะฐะปัะท ะบะพะฝะบัะตัะฝะพะณะพ ัะฐะนะปั
python evaluation/simple_analyze.py --dataset evaluation/data/quick_test_20251230.json

# ะะฑะตัะตะณัะธ ะทะฒัั
python evaluation/simple_analyze.py --save

# ะะพะดะธะฒะธัะธัั ะฒัั ัะตะทัะปััะฐัะธ
ls -lt evaluation/data/

# ะะพะดะธะฒะธัะธัั ะฒัั ะทะฒััะธ
ls -lt evaluation/reports/

# ะะพััะฒะฝััะธ ะดะฒะฐ ะทะฒััะธ
diff evaluation/reports/simple_report_1.json evaluation/reports/simple_report_2.json
```

---

## โ FAQ

**Q: ะกะบัะปัะบะธ ัะฐัั ะทะฐะนะผะฐั ัะตัั?**
A: ~30-40 ัะตะบัะฝะด ะดะปั 10 ะทะฐะฟะธััะฒ

**Q: ะฏะบ ัะฐััะพ ะฟะพัััะฑะฝะพ ัะตัััะฒะฐัะธ?**
A: ะััะปั ะบะพะถะฝะพั ะทะผัะฝะธ ะฒ ะฐะณะตะฝัั + ัะพัะธะถะฝะตะฒะฐ ะฟะตัะตะฒััะบะฐ

**Q: ะฉะพ ัะพะฑะธัะธ ัะบัะพ ะฒัั ัะตััะธ ะฟัะพะฒะฐะปัััััั?**
A: ะะตัะตะฒัััะต ัะธ ะฟัะฐััั MCP ัะตัะฒะตั: `curl http://localhost:3001/mcp`

**Q: ะงะธ ะผะพะถะฝะฐ ะดะพะดะฐัะธ ัะฒะพั ะทะฐะฟะธัะธ?**
A: ะขะฐะบ, ะฒัะดัะตะดะฐะณัะนัะต ัะฟะธัะพะบ `TEST_QUERIES` ะฒ `quick_test.py`

**Q: ะะต ะทะฑะตััะณะฐััััั ัะตะทัะปััะฐัะธ?**
A: ะ `evaluation/data/quick_test_TIMESTAMP.json`

**Q: ะะต ะทะฑะตััะณะฐััััั ะทะฒััะธ?**
A: ะ `evaluation/reports/simple_report_TIMESTAMP.json`

---

## ๐ ะะพะดะฐัะบะพะฒะฐ ัะฝัะพัะผะฐััั

ะะตัะฐะปัะฝะธะน ะณะฐะนะด: [`USAGE_GUIDE.md`](USAGE_GUIDE.md)

---

**ะกัะฒะพัะตะฝะพ ะดะปั ัะฒะธะดะบะพะณะพ ั ะตัะตะบัะธะฒะฝะพะณะพ ัะตัััะฒะฐะฝะฝั ะฒะฐัะพะณะพ ะฐะณะตะฝัะฐ!** ๐
